export const data = JSON.parse("{\"key\":\"v-e8653bfa\",\"path\":\"/posts/%E4%B8%AD%E9%97%B4%E4%BB%B6/rocketmq/MQ%E7%AD%94%E7%96%91.html\",\"title\":\"RocketMQ 答疑\",\"lang\":\"zh-CN\",\"frontmatter\":{\"title\":\"RocketMQ 答疑\",\"icon\":\"fire\",\"category\":[\"RocketMQ\"],\"tag\":[\"答疑\"],\"description\":\"RocketMq技术答疑 1、NS之间的最终一致性，提高集群的稳定性。 [!important] RocketMQ集群一般是指broker集群，但是为了防止NS也宕机，所以NS也是可以做集群。 那么多个NS和Broker之间的关系是怎么样的呢？是不是不同集群节点下的broker都需要连接到所有的NS上呢？ 2、RocketMQ如何保证顺序消费？ [!important] 1、照全局角度顺序消费分为全局和局部，全局就topic只有一个queue,topic如果有多个queue, 那可能只能局部顺序。 实际的业务场景来说，顺序都是指的局部顺序，比如相同的订单，相同的运输任务 ID取模后，让相同的需要顺序 消费的数据落入到同一个queue中。 源码地址：org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl#sendSelectImpl 2、如果按照生产者消费者角度，分为生产有序和消费有序，生产有序是生产者把数据落入到同一个queue下，消费有序是指 有序消费模式MessageListenerOrderly和并发消费模式MessageListenerConcurrently， 简单来说就是消费的时候是单线程还是多线程消费，需要进行控制，以达到顺序消费的目的。\",\"head\":[[\"meta\",{\"property\":\"og:url\",\"content\":\"https://github.com/chenweiquan-red/posts/%E4%B8%AD%E9%97%B4%E4%BB%B6/rocketmq/MQ%E7%AD%94%E7%96%91.html\"}],[\"meta\",{\"property\":\"og:site_name\",\"content\":\"WQ-知识库\"}],[\"meta\",{\"property\":\"og:title\",\"content\":\"RocketMQ 答疑\"}],[\"meta\",{\"property\":\"og:description\",\"content\":\"RocketMq技术答疑 1、NS之间的最终一致性，提高集群的稳定性。 [!important] RocketMQ集群一般是指broker集群，但是为了防止NS也宕机，所以NS也是可以做集群。 那么多个NS和Broker之间的关系是怎么样的呢？是不是不同集群节点下的broker都需要连接到所有的NS上呢？ 2、RocketMQ如何保证顺序消费？ [!important] 1、照全局角度顺序消费分为全局和局部，全局就topic只有一个queue,topic如果有多个queue, 那可能只能局部顺序。 实际的业务场景来说，顺序都是指的局部顺序，比如相同的订单，相同的运输任务 ID取模后，让相同的需要顺序 消费的数据落入到同一个queue中。 源码地址：org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl#sendSelectImpl 2、如果按照生产者消费者角度，分为生产有序和消费有序，生产有序是生产者把数据落入到同一个queue下，消费有序是指 有序消费模式MessageListenerOrderly和并发消费模式MessageListenerConcurrently， 简单来说就是消费的时候是单线程还是多线程消费，需要进行控制，以达到顺序消费的目的。\"}],[\"meta\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"meta\",{\"property\":\"og:locale\",\"content\":\"zh-CN\"}],[\"meta\",{\"property\":\"og:updated_time\",\"content\":\"2024-07-06T10:02:10.000Z\"}],[\"meta\",{\"property\":\"article:author\",\"content\":\"Durant\"}],[\"meta\",{\"property\":\"article:tag\",\"content\":\"答疑\"}],[\"meta\",{\"property\":\"article:modified_time\",\"content\":\"2024-07-06T10:02:10.000Z\"}],[\"script\",{\"type\":\"application/ld+json\"},\"{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@type\\\":\\\"Article\\\",\\\"headline\\\":\\\"RocketMQ 答疑\\\",\\\"image\\\":[\\\"\\\"],\\\"dateModified\\\":\\\"2024-07-06T10:02:10.000Z\\\",\\\"author\\\":[{\\\"@type\\\":\\\"Person\\\",\\\"name\\\":\\\"Durant\\\",\\\"url\\\":\\\"https://www.wqknowledge.top/\\\"}]}\"]]},\"headers\":[{\"level\":2,\"title\":\"RocketMq技术答疑\",\"slug\":\"rocketmq技术答疑\",\"link\":\"#rocketmq技术答疑\",\"children\":[{\"level\":3,\"title\":\"1、NS之间的最终一致性，提高集群的稳定性。\",\"slug\":\"_1、ns之间的最终一致性-提高集群的稳定性。\",\"link\":\"#_1、ns之间的最终一致性-提高集群的稳定性。\",\"children\":[]},{\"level\":3,\"title\":\"2、RocketMQ如何保证顺序消费？\",\"slug\":\"_2、rocketmq如何保证顺序消费\",\"link\":\"#_2、rocketmq如何保证顺序消费\",\"children\":[]},{\"level\":3,\"title\":\"3、RocketMQ如何进行消息过滤？\",\"slug\":\"_3、rocketmq如何进行消息过滤\",\"link\":\"#_3、rocketmq如何进行消息过滤\",\"children\":[]}]}],\"git\":{\"createdTime\":1720260130000,\"updatedTime\":1720260130000,\"contributors\":[{\"name\":\"chenweiquan-red\",\"email\":\"1271288660@qq.com\",\"commits\":1}]},\"readingTime\":{\"minutes\":1.12,\"words\":336},\"filePathRelative\":\"posts/中间件/rocketmq/MQ答疑.md\",\"localizedDate\":\"2024年7月6日\",\"excerpt\":\"<h2> RocketMq技术答疑</h2>\\n<h3> 1、NS之间的最终一致性，提高集群的稳定性。</h3>\\n<blockquote>\\n<p>[!important]<br>\\nRocketMQ集群一般是指broker集群，但是为了防止NS也宕机，所以NS也是可以做集群。<br>\\n那么多个NS和Broker之间的关系是怎么样的呢？是不是不同集群节点下的broker都需要连接到所有的NS上呢？</p>\\n</blockquote>\\n<h3> 2、RocketMQ如何保证顺序消费？</h3>\\n<blockquote>\\n<p>[!important]<br>\\n1、照全局角度顺序消费分为全局和局部，全局就topic只有一个queue,topic如果有多个queue, 那可能只能局部顺序。<br>\\n实际的业务场景来说，顺序都是指的局部顺序，比如相同的订单，相同的运输任务 ID取模后，让相同的需要顺序<br>\\n消费的数据落入到同一个queue中。<br>\\n源码地址：org.apache.rocketmq.client.impl.producer.DefaultMQProducerImpl#sendSelectImpl</p>\\n<p>2、如果按照生产者消费者角度，分为生产有序和消费有序，生产有序是生产者把数据落入到同一个queue下，消费有序是指<br>\\n有序消费模式MessageListenerOrderly和并发消费模式MessageListenerConcurrently，<br>\\n简单来说就是消费的时候是单线程还是多线程消费，需要进行控制，以达到顺序消费的目的。</p>\\n</blockquote>\",\"autoDesc\":true}")
